---
# tasks/pre_checks.yml file for role_nutanix_prism_api
- name: Check nutanix_host is defined
  ansible.builtin.fail:
    msg: "the variable 'nutanix_host' must be defined."
  when:
    - nutanix_host is not defined
    - nutanix_host != ""

- name: Debug nutanix_host
  ansible.builtin.debug:
    var: nutanix_host
  when: nutanix_debug

- name: Check nutanix_username is defined
  ansible.builtin.fail:
    msg: "the variable 'nutanix_username' must be defined."
  when:
    - nutanix_username is not defined
    - nutanix_username != ""

- name: Debug nutanix_username
  ansible.builtin.debug:
    var: nutanix_username
  when: nutanix_debug

- name: Check nutanix_password is defined
  ansible.builtin.fail:
    msg: "the variable 'nutanix_password' must be defined."
  when:
    - nutanix_password is not defined
    - nutanix_password != ""
